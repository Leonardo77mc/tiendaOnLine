
<div class="container movil white">
  <br>
  <a id="menu-movil" data-target="slide-out" class="sidenav-trigger"><i class="material-icons black-text">menu</i></a>
  <div class="row">
    <div class="col s9 m9 l9 center">
      <input type="search" id="searchProductMovil" class="searchProduct" [(ngModel)]="buscador"
             placeholder="Buscar..." (click)="openSearchMovil()">
    </div>
    <div class="col s3 m3 l3">
      <a class="black-text carro-modal cesta-view" [routerLink]="['/cartInvited']">
        <i class="material-icons black-text left">shopping_cart</i>
        <small class="w3">({{totalUnits}})</small>
        <br>
        <span id="total" style="color: black!important;">{{totalPurchase |number}}</span>
      </a>
    </div>
  </div>
</div>

<div>
  <div class="vista-cesta" id="vista-cesta">
    <div class="container" id="container-cart">
      <div class="row">
        <div class="col s12 scroll-cesta">
          <table class="responsive-table">
            <thead>
            <tr>
              <th class="center th">Codigo</th>
              <th class="center th">Producto</th>
              <th class="center th">Precio</th>
              <th class="center th">Puntos</th>
              <th class="center th">Total</th>
              <th class="center th">Unidades o Libra</th>
              <th class="center th">Eliminar</th>
            </tr>
            </thead>
            <tbody class="content-carrito">

            <tr *ngFor="let item of cartContent">
              <td class="center">
                <small>{{item.refProduct}}</small>
              </td>
              <td class="center">
                <small>{{item.title}}</small>
              </td>
              <td class="center">{{item.value | number}}</td>
              <td class="center">

              </td>
              <td class="center">{{(item.totalUnits * item.value) | number}}</td>
              <td class="center" style="width: 177px;">
                <div class="col s12">
                  <a class='quitar' (click)="removeUnits(item.refProduct)">
                    <div class='col s3 center btn btn-small teal-background'><i
                            class='material-icons'>remove</i>
                    </div>
                  </a>
                  <div class='col s5 center' style='border:1px solid lightgrey; height:27px;'>
                    <input type='number' [(ngModel)]="unitSmall[item.refProduct]"
                           class='cajaInputSmall' readonly>
                  </div>
                  <a class='agregar' (click)="addUnits(item.refProduct)">
                    <div class='col s3 center btn btn-small teal-background'><i
                            class='material-icons'>add</i></div>
                  </a>
                </div>
              </td>
              <td class="center">
                <a class="waves-effect waves-light btn-small delete-article color-icon teal-background"
                   (click)="deleteProduct(item.refProduct)"><i class="material-icons left white-text">delete</i></a>
              </td>
            </tr>
            <tr *ngIf="cartContent.length == 0">
              <td colspan='7' style="text-align: center;"><br><br>
                <img src="../../assets/img/carrito_vacio.png">
              </td>
            </tr>
            </tbody>
          </table>
          <br>
        </div>

        <div class="col s12 divPerform">
          <button class="btn white-text btn-confirm-pending btn-confirm" [disabled]="buttons"
                  (click)="performPurchase()">Realizar Pedido
          </button>
        </div>
        <div class="col s12 divCancel">
          <button class="btn white-text btn-pedidos btn-confirm" [disabled]="buttons"
                  (click)="canceledPurchase()">Cancelar Pedido
          </button>
        </div>

        <div class="col s12 m3 l3 textPrice">
          <p class="totalCompra">Total de la Compra: {{totalPurchase |number}}

          </p>
        </div>
        <div class="col s12 m2 l2 textDots">
        </div>
        <div class="col s12 m12 l12 center">
          <h5>{{message}}</h5>
        </div>
        <div class='col s12 m12 l12 alt right-align'><a
                class="close-know-me btn-floating z-depth-2 cesta-view teal-background">x</a>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="cart-body searchMovil" id="searchProMovil">
  <div class="vista-cesta">
    <div class="container" style="width: 100%!important;">
      <div class="row">
        <div class="col s12 m12 l12 center">
          <div class='col s1 m1 l1 alt right' style="margin-top: -4.3%;margin-left: -17%!important;"><a (click)="openSearchMovil()"
                                                                                                        class="close-know-me btn-floating z-depth-2 cesta-view teal-background">x</a>
          </div>
        </div>
        <div class="col s12 m12 l12 divider">.</div>
        <div class="col s12 m12 l12" style="margin-left: 5%;">
          <div>
            <ul class="collection" style="margin-left: -7%">
              <li class="collection-item" *ngFor="let item of listaprodAux|searchProduct:buscador">
                <div [routerLink]="['/detail/', item.code]">{{item.title}}<a href="#!" class="secondary-content"><i class="material-icons">search</i></a></div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ul id="slide-out" class="sidenav">
  <li>
    <div class="user-view">
      <div class="background">
        <img src="../../../assets/img/home-movil.jpg">
      </div>
      <a href="#user"><img class="circle" src="../../../assets/img/logo_all_app.png"></a>
      <span class="white-text name">Del campo a tu mesa</span>
      <span class="white-text email">comercial@allinapp.com.co</span>
    </div>
  </li>
  <li><a [routerLink]="['/unete']"><i class="material-icons">person_add</i>Unete</a></li>
  <li>
    <div class="divider"></div>
  </li>
  <li><a [routerLink]="['/invited']"><i class="material-icons">arrow_back</i>Regresar a la tienda</a></li>
  <li>
    <div class="divider"></div>
  </li>
  <li><a [routerLink]="['/InvoicesFromTheStore']"><i class="material-icons">content_copy</i>Pagar compra</a></li>
  <li>
    <div class="divider"></div>
  </li>
  <li><a [routerLink]="['/home']"><i class="material-icons">exit_to_app</i>Salir</a></li>
  <li>
    <div class="divider"></div>
  </li>
</ul>